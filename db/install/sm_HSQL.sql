DROP TABLE IF EXISTS sm_LinkMenuContent;
DROP TABLE IF EXISTS sm_MenuItem;
DROP TABLE IF EXISTS sm_Menu;
DROP TABLE IF EXISTS sm_Zone;

CREATE TABLE sm_LinkMenuContent (
LinkMenuContentID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
ContentID INTEGER NOT NULL,
MenuID INTEGER NOT NULL,
ZoneID INTEGER NULL,
PRIMARY KEY (LinkMenuContentID)
)

CREATE TABLE sm_Menu (
MenuID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
Title VARCHAR(255) NOT NULL,
Slug VARCHAR(255) NOT NULL,
MenuClass VARCHAR(255) NULL,
ListType VARCHAR(12) NULL,
ZoneID INTEGER NULL,
PRIMARY KEY (MenuID)
)

CREATE TABLE sm_MenuItem (
MenuItemID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
MenuID INTEGER NOT NULL,
Label VARCHAR(255) NOT NULL,
Title VARCHAR(255) NULL,
URL VARCHAR(255) NULL,
ParentID INTEGER NULL,
ContentID INTEGER NULL,
Type VARCHAR(255) NOT NULL,
PRIMARY KEY (MenuItemID)
)

CREATE TABLE sm_Zone (
ZoneID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
Name VARCHAR(255) NOT NULL,
PRIMARY KEY (ZoneID) 
)

ALTER TABLE sm_LinkMenuContent ADD CONSTRAINT sm_LinkMenuContent_ibfk_2 FOREIGN KEY (ZoneID) REFERENCES sm_Zone (ZoneID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE sm_LinkMenuContent ADD CONSTRAINT sm_LinkMenuContent_ibfk_1 FOREIGN KEY (MenuID) REFERENCES sm_Menu (MenuID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE sm_Menu ADD CONSTRAINT sm_Menu_ibfk_1 FOREIGN KEY (ZoneID) REFERENCES sm_Zone (ZoneID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE sm_MenuItem ADD CONSTRAINT sm_MenuItem_ibfk_3 FOREIGN KEY (ContentID) REFERENCES cb_content (contentID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE sm_MenuItem ADD CONSTRAINT sm_MenuItem_ibfk_1 FOREIGN KEY (MenuID) REFERENCES sm_Menu (MenuID) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE sm_MenuItem ADD CONSTRAINT sm_MenuItem_ibfk_2 FOREIGN KEY (ParentID) REFERENCES sm_MenuItem (MenuItemID) ON DELETE CASCADE ON UPDATE CASCADE;